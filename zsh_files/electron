########## WORK ###########

# navigation
alias work='cd ~/Developer/does-work'
alias g-n='cd ~/Developer/electron-gn/src'
alias e='dv && g-n && cd electron'
alias libuv='dv && cd libuv'
alias enode='dv && cd node'
alias libcc='dv && cd libchromiumcontent'
alias repros='dv && cd repros'
alias node='dv && cd @nodejs/node'

# electron build stuff
alias eb='g-n && gclient sync --with_branch_heads --with_tags'
alias ebd='g-n && ninja -C out/Default electron:electron_app'

# test prep stuff
test_setup_run() {
  g-n
  ebd
  ninja -C out/Default third_party/electron_node:headers
  (cd electron/spec && npm i --nodedir=../../out/Default/gen/node_headers)
  ./out/Default/Electron.app/Contents/MacOS/Electron electron/spec --ci
  e
}

# electron run stuff
alias erun='~/Developer/electron-gn/src/out/Default/Electron.app/Contents/MacOS/Electron'
alias ebrun='ebd && erun'
alias et='test_setup_run'

# electron debug stuff
alias debug-spec='lldb -- ~/Developer/electron-gn/src/out/Default/Electron.app/Contents/MacOS/Electron spec'
alias debug='lldb ~/Developer/electron-gn/src/out/Default/Electron.app/Contents/MacOS/Electron'

# libcc stuff
alias sap='script/patch.py -r src -p'
alias usap='script/patch.py -R -r src -p'
alias cu='script/update -t x64'
alias cb='script/build -t x64'

# node stuff
alias nb='./configure && make -j4'
alias nt='./configure && make -j4 test'

# libuv stuff
alias lb='./gyp_uv.py -f make && make -C out'